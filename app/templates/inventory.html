{% extends "base.html" %}
{# set server information fields for inventory #}
{% set field_pairs = (('ID','id'),('Model','model'),('IB MAC','ib_mac'),
('OOB MAC','oob_mac'),('CPU Count','cpu_count'),('CPU Model','cpu_model'),
('Rack','rack'),('U','u'),('Available','available'),('Update',None)) %}

{% block content %}
    <h2>Inventory</h2>

    <div style="padding-bottom: 10px;">
        Machines available for testing:
    </div>
    <div class="pane-frame" style="width:100%;">
        <table id="projectstatus" class="sortable pane bigtable stripped-odd">
            <tbody>
            <tr class="header">
                {# create header for inventory table #}
                {% for k, v in field_pairs %}
                    <th>
                        <a class="sortheader">
                            &nbsp;{{ k }}
                        </a>
                    </th>
                {% endfor %}
                <th>
                    {# loop over servers in inventory #}
                    {% for server in servers %}
                        <tr>
                            {# loop over field values for each server #}
                            {% for k, v in field_pairs %}
                                <td>
                                    <a>
                                        {# if field is None, insert "update" button #}
                                        {% if v != None %}
                                            {{ server.v }}
                                        {% else %}
                                            <button type="button">Update
                                            </button>
                                        {% endif %}
                                    </a>
                                </td>
                            {% endfor %}
                        </tr>
                    {% endfor %}
            </tbody>
        </table>
    </div>
    {# add link to create inventory at bottom of inventory list #}
    <div style="padding-top: 10px;">
        <a href="inventory/add">Add inventory</a>
    </div>
{% endblock %}
